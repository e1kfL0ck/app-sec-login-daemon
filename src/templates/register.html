{% extends "base.html" %}
{% block content %}
<h2>Register</h2>

<form id="register-form" method="post" action="{{ url_for('register') }}">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  <label>Email:
    <input type="email" name="email" required>
  </label>
  <br>

  <label>Password:
    <input type="password" name="password" required>
  </label>
  <br>

  <label>Confirm password:
    <input type="password" name="confirm_password" required>
  </label>
  <br>

  <button type="submit">Register</button>
</form>

<div id="client-errors" style="color:orange;"></div>

{% if errors %}
<ul style="color:red;">
  {% for e in errors %}
  <li>{{ e }}</li>
  {% endfor %}
</ul>
{% endif %}

{% if mail_sent %}
<p style="color:green;">An activation email has been sent to {{ email }}. Check your inbox.</p>
{% else %}
<p style="color:orange;">
  There was an issue while sending the activation link. Please check your email. If the issue persists, contact support.
</p>
{% endif %}

{% endblock %}