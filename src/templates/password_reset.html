{% extends "base.html" %}
{% block content %}
<h2>Password Reset</h2>

<form id="password-reset-form" method="post" action="{{ url_for('password_reset', token=token) }}">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  <label>New password:
    <input type="password" name="password" required>
  </label>
  <br>

  <label>Retype new password:
    <input type="password" name="confirm_password" required>
  </label>
  <br>

  <button type="submit">Submit</button>
</form>

<div id="client-errors" style="color:orange;"></div>

{% if errors %}
<ul style="color:red;">
  {% for e in errors %}
  <li>{{ e }}</li>
  {% endfor %}
</ul>
{% endif %}

{% if success %}
<p style="color:green;">Your password was successfully reset. Please head to the login page.</p>
{% else %}
<p style="color:red">"Your password couldn't be updated. If the issue persists, please contact support."</p>
{% endif %}

{% endblock %}
